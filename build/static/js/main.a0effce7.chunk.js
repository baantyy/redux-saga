(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{33:function(e,t,n){e.exports=n(63)},38:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(14),o=n.n(c),s=(n(38),n(8)),i=n(32),u=n(7),l=n.n(u),d=n(6),p="LOAD_IMAGES",m="LOAD_SUCCESS",f=function(){return{type:p}},b=function(e){return{type:m,payload:e}},g=function(e){return{type:"LOAD_FAIL",payload:e}},O=function(e){return{type:"LOAD_STATS",payload:e}},h=function(e){return{type:"LOAD_STATS_SUCCESS",payload:e}},v=function(e){return{type:"LOAD_STATS_FAIL",payload:e}},w=n(19),E=n.n(w),j="?client_id=5f96323678d05ff0c4eb264ef184556868e303b32a2db88ecbf15746e6f25e02",S="https://api.unsplash.com/photos/",L=function(e){return E.a.get("".concat(S).concat(j,"&per_page=6&page=").concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},_=function(e){return E.a.get("".concat(S,"/").concat(e,"/statistics").concat(j)).then((function(e){return e.data})).catch((function(e){return e}))},x=l.a.mark(N),y=l.a.mark(I),A=l.a.mark(C),k=l.a.mark(F),T=l.a.mark(U),D=function(e){return e.image.page};function N(){var e,t;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(d.e)(D);case 3:return e=n.sent,n.next=6,Object(d.b)(L,e);case 6:return t=n.sent,n.next=9,Object(d.d)(b(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(d.d)(g(n.t0.toString()));case 15:case"end":return n.stop()}}),x,null,[[0,11]])}function I(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.g)(p,N);case 2:case"end":return e.stop()}}),y)}function C(e){var t,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=0;case 1:if(!(t<3)){a.next=18;break}return a.prev=2,a.next=5,Object(d.d)(O(e));case 5:return a.next=7,Object(d.b)(_,e);case 7:return n=a.sent,a.next=10,Object(d.d)(h(n));case 10:return a.abrupt("return",!0);case 13:a.prev=13,a.t0=a.catch(2);case 15:t++,a.next=1;break;case 18:return a.next=20,Object(d.d)(v(e));case 20:case"end":return a.stop()}}),A,null,[[2,13]])}function F(){var e,t,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(d.f)(m);case 3:e=a.sent,t=e.payload,n=0;case 6:if(!(n<t.length)){a.next=12;break}return a.next=9,Object(d.c)(C,t[n].id);case 9:n++,a.next=6;break;case 12:a.next=0;break;case 14:case"end":return a.stop()}}),k)}function U(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([I(),F()]);case 2:case"end":return e.stop()}}),T)}var X=n(21),W=n(11),B={images:[],isLoading:!1,error:null,page:1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case p:return Object(W.a)({},e,{},{isLoading:!0});case m:var r=e.page+1,c=[].concat(Object(X.a)(e.images),Object(X.a)(a));return Object(W.a)({},e,{},{images:c,isLoading:!1,error:null,page:r});case"LOAD_FAIL":return Object(W.a)({},e,{},{isLoading:!1,error:a});default:return e}},M=n(13),R={},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"LOAD_STATS":return Object(W.a)({},e,Object(M.a)({},a,{isLoading:!0,downloads:null,error:!1}));case"LOAD_STATS_SUCCESS":return Object(W.a)({},e,Object(M.a)({},a.id,{isLoading:!1,downloads:a.downloads.total,error:!1}));case"LOAD_STATS_FAIL":return Object(W.a)({},e,Object(M.a)({},a,{isLoading:!1,downloads:null,error:!0}));default:return e}},G=Object(s.c)({image:J,stat:V}),$=Object(i.a)(),q=Object(s.e)(G,Object(s.d)(Object(s.a)($),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));$.run(U),q.subscribe((function(){console.log(q.getState())}));var z=q,H=n(16),K=(n(62),function(e){var t=e.stat;return r.a.createElement(a.Fragment,null,t?r.a.createElement(a.Fragment,null,t.error&&r.a.createElement("span",{className:"stats"},"\ud83e\udd2f Error!"),t.isLoading&&r.a.createElement("span",{className:"stats"},"\ud83d\ude44 Loading..."),t.downloads&&r.a.createElement("span",{className:"stats"},"\ud83e\udd18 ",t.downloads)):"")}),P=function(e){var t=e.image,n=t.images,c=t.isLoading,o=t.error,s=e.stat,i=e.dispatch;return Object(a.useEffect)((function(){i(f())}),[i]),r.a.createElement("div",null,r.a.createElement("header",null,"What the Splash!"),r.a.createElement("div",{className:"content"},r.a.createElement("section",{className:"grid"},n.map((function(e){return r.a.createElement("div",{key:e.id,className:"item item-".concat(Math.ceil(e.height/e.width))},r.a.createElement(K,{stat:s[e.id]||null}),r.a.createElement("img",{src:e.urls.small,alt:e.user.username}))}))),r.a.createElement("button",{className:"btn",onClick:function(){!c&&i(f())},disabled:c},c?"Loading...":"Load Images"),o&&r.a.createElement("p",{className:"err"},"Something went wrong...")))},Q=Object(H.b)((function(e){return e}))((function(e){return r.a.createElement("div",{className:"app"},r.a.createElement(P,e))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=r.a.createElement(H.a,{store:z},r.a.createElement(Q,null));o.a.render(Y,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.a0effce7.chunk.js.map